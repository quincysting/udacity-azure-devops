{
   "type":"Custom",
   "name":"tagging policy to enforce tags on all resources",
   "properties": {
      "mode":"all",
      "policyRule": {
         "if": {
            "allOf": [
               {
                  "field": "type",
                  "equals": "Microsoft.Resources/subscriptions/resourceGroups/uda-devops-resource"
               },
               {
                  "field":"[concat('tags[', parameters('tagName'), ']')]",
                  "exists":"false"
               }
            ]
         },
         "then": {
            "effect":"deny"
         }
      },
      "parameters":{
         "tagName":{
            "type":"String",
            "metadata":{
               "displayName":"udacityProject",
               "description":"Name of the tag to enforce"
            }
         }
      }
   }
}
